---
title: LED Indicator Requirements
description: Visual status indication via LEDs

requirements:
  
  - id: "UI-LED-001"
    title: "Green LED Solid - Motor Running"
    rationale: "Users need clear visual confirmation that motor control is actively running"
    content:
      given: "System is powered and motor control initialized"
      when: "FOC algorithm is active and no faults are detected"
      then: "Green LED remains solid (continuously illuminated)"
  - id: "UI-LED-002"
    title: "Green LED Blinking - System Idle/Ready"
    rationale: "Users need to distinguish between idle-ready state and active motor control"
    content:
      given: "System is powered and initialized"
      when: "Motor control is not active (idle state)"
      then: "Green LED blinks at 1 Hz (500 ms on, 500 ms off)"
  - id: "UI-LED-003"
    title: "Green LED OFF - No Power"
    rationale: "Absence of illumination indicates system is unpowered"
    content:
      given: "No power supplied to the system"
      when: "System is in power-down state"
      then: "Green LED is OFF"
  
  - id: "UI-LED-004"
    title: "Red LED OFF - No Faults"
    rationale: "Absence of red indication means system is healthy and fault-free"
    content:
      given: "System is operating normally"
      when: "No fault conditions are detected"
      then: "Red LED is OFF"
  - id: "UI-LED-005"
    title: "Red LED Two Blinks - Over-Current Fault"
    rationale: "Distinct blink pattern allows technician to diagnose over-current without tools"
    content:
      given: "Motor phase current exceeds safe limit"
      when: "Hardware comparator or firmware ADC threshold triggers"
      then: "Red LED blinks 2 times in quick succession, repeats every 2 seconds"
  - id: "UI-LED-006"
    title: "Red LED Three Blinks - Over-Voltage Fault"
    rationale: "Blink pattern uniquely identifies over-voltage condition for diagnostics"
    content:
      given: "Supply voltage exceeds safe operating range"
      when: "Voltage protection triggers"
      then: "Red LED blinks 3 times in quick succession, repeats every 2 seconds"
  - id: "UI-LED-007"
    title: "Red LED Four Blinks - Over-Temperature Fault"
    rationale: "Recognizable pattern enables quick field diagnosis of thermal issues"
    content:
      given: "Motor or inverter temperature exceeds limit (e.g., 80°C)"
      when: "Temperature sensor reading crosses threshold"
      then: "Red LED blinks 4 times in quick succession, repeats every 2 seconds"
  - id: "UI-LED-008"
    title: "Red LED Five Blinks - Hall Sensor Fault"
    rationale: "Distinctive pattern alerts technician to sensor/wiring issues"
    content:
      given: "Hall sensor signal is invalid or lost"
      when: "Hall signal pattern validation fails or edge rate is out of range"
      then: "Red LED blinks 5 times in quick succession, repeats every 2 seconds"
  - id: "UI-LED-009"
    title: "Simultaneous Red and Green - Special Mode"
    rationale: "Combined indication distinguishes calibration/bootloader from normal faults"
    content:
      given: "System enters special operational mode"
      when: "Calibration routine starts or bootloader is active"
      then: "Red and Green LEDs are illuminated simultaneously"
  
  - id: "UI-LED-010"
    title: "Fault Blink Pattern Timing"
    rationale: "Consistent timing ensures reliable visual pattern recognition"
    content:
      given: "A fault blink code is being displayed"
      when: "LED controller generates fault indicator pattern"
      then: "Each blink is 100 ms on, 100 ms off; 1 second pause between code repeats"
  
  - id: "UI-LED-011"
    title: "Highest Priority Fault Displayed"
    rationale: "Multiple simultaneous faults should show most critical condition first"
    content:
      given: "Multiple fault conditions occur simultaneously"
      when: "System evaluates fault priority"
      then: "Red LED displays pattern for highest priority fault: OC > OV > OT > Hall > CAN"
  
  - id: "UI-LED-012"
    title: "LED State Transition on Power-On"
    rationale: "Controlled startup sequence indicates system health to user"
    content:
      given: "System receives power for first time"
      when: "Initialization completes successfully"
      then: "LED transitions from OFF → Green Blinking (idle ready state)"
  - id: "UI-LED-013"
    title: "LED Transition Motor Start"
    rationale: "Visual feedback confirms command execution"
    content:
      given: "System is in idle/ready state (blinking green)"
      when: "Motor start command is received and accepted"
      then: "Green LED transitions to solid (continuous)"
  - id: "UI-LED-014"
    title: "LED Transition Motor Stop"
    rationale: "Clear indication that motor has been disabled"
    content:
      given: "System is in motor running state (solid green)"
      when: "Motor stop command is received or motor naturally stops"
      then: "Green LED transitions to blinking green (idle state)"
  - id: "UI-LED-015"
    title: "Immediate Fault LED Indication"
    rationale: "Critical faults must be immediately visible to prevent damage"
    content:
      given: "A critical fault condition is detected (OC, OV, or Hall sensor)"
      when: "Fault detection circuit triggers"
      then: "Red LED begins fault blink pattern within 1 millisecond"
